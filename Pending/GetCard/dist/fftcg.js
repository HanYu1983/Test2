// Generated by LiveScript 1.6.0
(function(){
  console.log("addListener");
  chrome.runtime.onMessage.addListener(function(message, sender, sendResponse){
    var ask, imgs, srcs, res$, i$, len$, img;
    ask = message.ask;
    console.log(message);
    switch (ask) {
    case "getImgs":
      imgs = $('img[class="thumb"]');
      res$ = [];
      for (i$ = 0, len$ = imgs.length; i$ < len$; ++i$) {
        img = imgs[i$];
        res$.push($(img).attr("src"));
      }
      srcs = res$;
      srcs = srcs.map(function(src){
        return src.replace(/thumbs/, "full");
      });
      console.log(imgs);
      console.log(srcs);
      return sendResponse({
        ask: ask,
        answer: srcs
      });
    default:
      return sendResponse({
        ask: ask,
        answer: ask
      });
    }
  });
}).call(this);
